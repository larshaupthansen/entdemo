{"version":3,"sources":["Main.ts"],"names":["Main","Main.constructor","Main.loginLinkedIn","Main.getProfile","Main.logoutLinkedIn"],"mappings":"AACA,qDAAqD;;;;;;;;;;;;;IAUrD;QAyBEA;YAzBFC,iBAkECA;YA9CCA,YAAOA,GAAkBA,IAAIA,KAAKA,CAACA,OAAOA,EAAEA,CAACA;YAOzCA,IAAIA,CAACA,qBAAqBA,GAAGA,IAAIA,6CAAqBA,EAAEA,CAACA;YAEzDA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,KAAKA,EAA4BA,CAACA;YAC5DA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAAEA;gBACxBA,IAAIA,EAAEA,MAAMA;gBACZA,GAAGA,EAAGA,EAAEA;aAETA,CAACA,CAAAA;YAEFA,IAAIA,QAAQA,GAAGA,UAACA,IAA8BA,IAAKA,OAAAA,KAAIA,CAACA,cAAcA,GAAGA,IAAIA,EAA1BA,CAA0BA,CAACA;YAC9EA,IAAIA,CAACA,qBAAqBA,CAACA,iBAAiBA,CAACA,QAAQA,CAACA,CAACA;YAEvDA,IAAIA,CAACA,IAAIA,GAAGA,EAAEA,CAACA;YACfA,IAAIA,CAACA,QAAQA,GAAGA,cAAcA,CAACA,OAAOA,CAACA,QAAQA,CAACA,IAAIA,IAAIA,CAACA;YACzDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA;gBAClBA,IAAIA,CAACA,UAAUA,EAAEA,CAACA;YACpBA,CAACA;YAEDA,WAAWA,CAACA;gBACV,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YACpC,CAAC,CAACA,IAAIA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,CAACA;QAEvBA,CAACA;QAGDD,4BAAaA,GAAbA;YAEEE,IAAIA,CAACA,qBAAqBA,CAACA,qBAAqBA,EAAEA,CAACA;YACnDA,MAAMA,CAACA,IAAIA,CAACA;QACdA,CAACA;QAEDF,yBAAUA,GAAVA;YACEG,IAAIA,CAACA,qBAAqBA,CAACA,kBAAkBA,CAAEA,UAASA,IAAmBA,IAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA,CAAC,CAAC,CAACA,CAACA;QACvGA,CAACA;QAEDH,6BAAcA,GAAdA;YACEI,MAAMA,CAACA,IAAIA,CAACA;QACdA,CAACA;QAhEHJ;YAACA,oBAASA,CAACA;gBACTA,QAAQA,EAAEA,aAAaA;gBACvBA,+FAA+FA;gBAC/FA,yBAAyBA;gBACxBA,WAAWA,EAAEA,EAEbA;aACFA,CAACA;YAGDA,eAAIA,CAACA;gBACJA,WAAWA,EAAEA,qBAAqBA;gBAClCA,UAAUA,EAAEA,CAACA,cAAGA,EAAEA,aAAEA,CAACA;aACtBA,CAACA;;iBAqDDA;QAADA,WAACA;IAADA,CAlEA,AAkECA,IAAA;IACD,oBAAS,CAAC,IAAI,EAAE,CAAE,SAAI,CAAC,8CAAsB,CAAC,CAAC,OAAO,CAAC,IAAI,6CAAqB,EAAE,CAAC,CAAE,CAAC,CAAC","file":"Main.js","sourceRoot":"../","sourcesContent":["\r\n/// <reference path=\"../../tools/typings/tsd.d.ts\" />\r\n\r\n/// <reference path=\"model/profile.ts\" />\r\n\r\n/* tslint:disable */ \r\nimport {Component, View, bootstrap, For, If} from 'angular2/angular2';\r\nimport {bind} from 'angular2/di';\r\n\r\nimport {IAuthenticationService,AuthenticationService,ExternalLoginViewModel} from 'app/service/authenticationservice'\r\n\r\n@Component({\r\n  selector: 'entdemo-app',\r\n  // `bindings` can be a list of `Type`, {@link Binding}, {@link ResolvedBinding}, or a recursive\r\n  // list of more bindings.\r\n   injectables: [\r\n    \r\n  ]\r\n})\r\n\r\n// \r\n@View({\r\n  templateUrl: 'app/views/main.html',\r\n  directives: [For, If]\r\n})\r\n/* tslint:enable */\r\n\r\n\r\nclass Main {\r\n\r\n  loggedIn: boolean;\r\n  profile: model.Profile = new model.Profile();\r\n  time: string;\r\n  authenticationService : IAuthenticationService;\r\n  loginProviders: ExternalLoginViewModel[];\r\n\r\n  constructor() {\r\n  \r\n      this.authenticationService = new AuthenticationService();\r\n      \r\n      this.loginProviders = new Array<ExternalLoginViewModel[]>();\r\n      this.loginProviders.push( {\r\n        Name: \"test\",\r\n        Url : \"\"\r\n        \r\n      })\r\n      \r\n      var callback = (data: ExternalLoginViewModel[]) => this.loginProviders = data;\r\n      this.authenticationService.getLoginProviders(callback); \r\n      \r\n      this.time = '';\r\n      this.loggedIn = sessionStorage.getItem('Bearer') != null;\r\n      if (this.loggedIn) {\r\n        this.getProfile();\r\n      }\r\n\r\n      setInterval(function() {\r\n        this.time = (new Date()).toString();\r\n        }.bind(this), 1);\r\n\r\n  }\r\n\r\n\r\n  loginLinkedIn() : boolean {\r\n\r\n    this.authenticationService.redirectToLinkedLogin();\r\n    return true;\r\n  }\r\n\r\n  getProfile()  {\r\n    this.authenticationService.getLinkedInProfile( function(data: model.Profile) {this.profile = data });\r\n  }\r\n\r\n  logoutLinkedIn(): boolean {\r\n    return true;\r\n  }\r\n\r\n}\r\nbootstrap(Main, [ bind(IAuthenticationService).toValue(new AuthenticationService()) ]);\r\n"]}